<!DOCTYPE html>
<html>
<head>
  <title>TimeBot - Home</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="container">
    <h1>Welcome to TimeBot</h1>
    <button id="openForm">Add Timetable</button>

    <div id="formBox" class="hidden">
      <form action="/create" method="POST">
        <input type="text" name="course" placeholder="Course" required><br>
        <input type="text" name="year" placeholder="Year" required><br>
        <input type="text" name="section" placeholder="Section (e.g., AI-2B)" required><br>
        <input type="text" name="branch" placeholder="Branch" required><br>
        <button type="button" id="cancelBtn">Cancel</button>
        <button type="submit">Proceed</button>
      </form>
    </div>

    <div class="timetable-list">
      <h2>Existing Timetables</h2>
      <% if (timetables.length === 0) { %>
        <p>No timetables found. Create one above!</p>
      <% } else { %>
        <ul>
          <% timetables.forEach(tt => { %>
            <li>
              <strong><%= tt.course %></strong> - Year <%= tt.year %>, Section <%= tt.section %> (<%= tt.branch %>)
              â€“ <a href="/timetable/section/<%= tt.section %>">View</a>
            </li>
          <% }) %>
        </ul>
      <% } %>
    </div>
  </div>

  <script>
    document.getElementById('openForm').addEventListener('click', () => {
      document.getElementById('formBox').classList.remove('hidden');
    });
    document.getElementById('cancelBtn').addEventListener('click', () => {
      document.getElementById('formBox').classList.add('hidden');
    });
  </script>
</body>
</html>
